<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Binomial Distribution Calculator</title>
    <style>
        /* Add your CSS styles here */
    </style>
</head>
<body>
    <h1>Binomial Distribution Calculator</h1>
    <label for="tipo">Select the type of distribution:</label>
    <select id="tipo">
        <option value="1">P(X=x)</option>
        <option value="2">P(X&lt;x)</option>
        <option value="3">P(X&#8804;x)</option>
        <option value="4">P(X&gt;x)</option>
        <option value="5">P(X&#8805;x)</option>
        <option value="6">P(a&lt;X&lt;b)</option>
        <option value="7">P(a&#8804;X&#8804;b)</option>
    </select>
    <br>
    <div id="inputs"></div>
    <button onclick="calculate()">Calculate</button>
    <div id="result"></div>

    <script>
        function product_Range(a, b) {
            var prd = a;
            var i = a;
            while (i++ < b) {
                prd *= i;
            }
            return prd;
        }

        function combinations(n, r) {
            if (n == r || r == 0) {
                return 1;
            } else {
                r = (r < n - r) ? n - r : r;
                return product_Range(r + 1, n) / product_Range(1, n - r);
            }
        }

        function createInputs() {
            var tipo = document.getElementById("tipo").value;
            var inputsDiv = document.getElementById("inputs");
            inputsDiv.innerHTML = "";
            var inputHTML = "";
            if (tipo >= 1 && tipo <= 5) {
                inputHTML += '<label for="n">Number of trials (n):</label>';
                inputHTML += '<input type="number" id="n"><br>';
                inputHTML += '<label for="p">Probability of success (p):</label>';
                inputHTML += '<input type="number" id="p"><br>';
                inputHTML += '<label for="x">Number of successful outcomes (x):</label>';
                inputHTML += '<input type="number" id="x"><br>';
            } else if (tipo >= 6 && tipo <= 7) {
                inputHTML += '<label for="n">Number of trials (n):</label>';
                inputHTML += '<input type="number" id="n"><br>';
                inputHTML += '<label for="p">Probability of success (p):</label>';
                inputHTML += '<input type="number" id="p"><br>';
                inputHTML += '<label for="x1">First value of x (a):</label>';
                inputHTML += '<input type="number" id="x1"><br>';
                inputHTML += '<label for="x2">Second value of x (b):</label>';
                inputHTML += '<input type="number" id="x2"><br>';
            }
            inputsDiv.innerHTML = inputHTML;
        }

        function calculate() {
            var tipo = document.getElementById("tipo").value;
            var resultDiv = document.getElementById("result");
            var result = 0;
            var n = parseFloat(document.getElementById("n").value);
            var p = parseFloat(document.getElementById("p").value);
            var x = parseFloat(document.getElementById("x").value);
            var x1 = parseFloat(document.getElementById("x1").value);
            var x2 = parseFloat(document.getElementById("x2").value);

            if (tipo == 1) {
                result = (combinations(n, x) * (p ** x) * ((1 - p) ** (n - x)));
            } else if (tipo == 2) {
                for (var i = 0; i < x; i++) {
                    result += (combinations(n, i) * (p ** i) * ((1 - p) ** (n - i)));
                }
            } else if (tipo == 3) {
                for (var i = 0; i <= x; i++) {
                    result += (combinations(n, i) * (p ** i) * ((1 - p) ** (n - i)));
                }
            } else if (tipo == 4) {
                var totalResult = 0;
                var invalidResult = 0;
                for (var i = 0; i <= n; i++) {
                    totalResult += (combinations(n, i) * (p ** i) * ((1 - p) ** (n - i)));
                }
                for (var i = 0; i <= x; i++) {
                    invalidResult += (combinations(n, i) * (p ** i) * ((1 - p) ** (n - i)));
                }
                result = totalResult - invalidResult;
            } else if (tipo == 5) {
                var totalResult = 0;
                var invalidResult = 0;
                for (var i = 0; i <= n; i++) {
                    totalResult += (combinations(n, i) * (p ** i) * ((1 - p) ** (n - i)));
                }
                for (var i = 0; i < x; i++) {
                    invalidResult += (combinations(n, i) * (p ** i) * ((1 - p) ** (n - i)));
                }
                result = totalResult - invalidResult;
            } else if (tipo == 6) {
                var resultLarge = 0;
                var resultSmall = 0;
                if (x2 > x1) {
                    for (var i = 0; i < x2; i++) {
                        resultLarge += (combinations(n, i) * (p ** i) * ((1 - p) ** (n - i)));
                    }
                    for (var i = 0; i <= x1; i++) {
                        resultSmall += (combinations(n, i) * (p ** i) * ((1 - p) ** (n - i)));
                    }
                    result = resultLarge - resultSmall;
                } else {
                    for (var i = 0; i < x1; i++) {
                        resultLarge += (combinations(n, i) * (p ** i) * ((1 - p) ** (n - i)));
                    }
                    for (var i = 0; i <= x2; i++) {
                        resultSmall += (combinations(n, i) * (p ** i) * ((1 - p) ** (n - i)));
                    }
                    result = resultLarge - resultSmall;
                }
            } else if (tipo == 7) {
                var resultLarge = 0;
                var resultSmall = 0;
                if (x2 > x1) {
                    for (var i = 0; i <= x2; i++) {
                        resultLarge += (combinations(n, i) * (p ** i) * ((1 - p) ** (n - i)));
                    }
                    for (var i = 0; i < x1; i++) {
                        resultSmall += (combinations(n, i) * (p ** i) * ((1 - p) ** (n - i)));
                    }
                    result = resultLarge - resultSmall;
                } else {
                    for (var i = 0; i <= x1; i++) {
                        resultLarge += (combinations(n, i) * (p ** i) * ((1 - p) ** (n - i)));
                    }
                    for (var i = 0; i < x2; i++) {
                        resultSmall += (combinations(n, i) * (p ** i) * ((1 - p) ** (n - i)));
                    }
                    result = resultLarge - resultSmall;
                }
            } else {
                alert("Please select a valid type of distribution.");
            }

            resultDiv.innerHTML = "Result: " + result;
        }
    </script>
</body>
</html>

